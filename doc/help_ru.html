<!DOCTYPE html>
<html>
<head>
<title>Документация Candle</title>
<link rel="icon" href="candle.ico" type="image/x-icon">
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>
<link rel="stylesheet" href="file:///g%3A/prj/c/Candle/doc/styles.css" type="text/css">
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<style type="text/css" rel="stylesheet">
img[src*='#center'] {
    display: block;
    margin: auto;
}
.center {
    text-align: center;
}
table {
    width: 100%;
}
</style>
<h1 id="%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0-%22candle%22">Программа &quot;Candle&quot;</h1>
<h2 id="%D1%81%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5">Содержание</h2>
<p><a href="#1-%D0%BD%D0%B0%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">1 Назначение программы</a><br>
<a href="#2-%D1%83%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%8F-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">2 Условия выполнения программы</a><br>
    <a href="#21-%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA-%D0%B0%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%BC%D1%83-%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D1%8E">2.1 Требования к аппаратному обеспечению</a><br>
    <a href="#22-%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D0%BE%D0%BC%D1%83-%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D1%8E">2.2 Требования к программному обеспечению</a><br>
<a href="#3-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">3 Выполнение программы</a><br>
    <a href="#31-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">3.1 Установка программы</a><br>
    <a href="#32-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA">3.2 Запуск</a><br>
    <a href="#33-%D0%B3%D0%BB%D0%B0%D0%B2%D0%BD%D0%BE%D0%B5-%D0%BE%D0%BA%D0%BD%D0%BE">3.3 Главное окно</a><br>
        <a href="#331-%D0%B3%D0%BB%D0%B0%D0%B2%D0%BD%D0%BE%D0%B5-%D0%BC%D0%B5%D0%BD%D1%8E">3.3.1 Главное меню</a><br>
        <a href="#332-%D0%BE%D0%BA%D0%BD%D0%B0">3.3.2 Окна</a><br>
            <a href="#3321-%D0%BE%D0%BA%D0%BD%D0%BE-%22g-%D0%BA%D0%BE%D0%B4-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%22">3.3.2.1 Окно &quot;G-код программа&quot;</a><br>
            <a href="#3322-%D0%BE%D0%BA%D0%BD%D0%BE-%22%D0%B2%D0%B8%D0%B7%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80%22">3.3.2.2 Окно &quot;Визуализатор&quot;</a><br>
            <a href="#3323-%D0%BE%D0%BA%D0%BD%D0%BE-%22%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D0%B0%22">3.3.2.3 Окно &quot;Камера&quot;</a><br>
            <a href="#3324-%D0%BE%D0%BA%D0%BD%D0%BE-%22%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C%22">3.3.2.4 Окно &quot;Консоль&quot;</a><br>
            <a href="#3325-%D0%BE%D0%BA%D0%BD%D0%B0-%22%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%BE%22-%22%D0%BC%D0%BE%D0%B4%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F%22-%22%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%22">3.3.2.5 Окна &quot;Устройство&quot;, &quot;Модификация&quot;, &quot;Пользователь&quot;</a><br>
        <a href="#333-%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D0%B8">3.3.3 Инструментальные панели</a><br>
            <a href="#3331-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D0%B5%22">3.3.3.1 Панель &quot;Состояние&quot;</a><br>
            <a href="#3332-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%22">3.3.3.2 Панель &quot;Управление&quot;</a><br>
            <a href="#3333-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0-%D0%BA%D0%BE%D0%BE%D1%80%D0%B4%D0%B8%D0%BD%D0%B0%D1%82%22">3.3.3.3 Панель &quot;Система координат&quot;</a><br>
            <a href="#3334-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D1%88%D0%BF%D0%B8%D0%BD%D0%B4%D0%B5%D0%BB%D1%8C%22">3.3.3.4 Панель &quot;Шпиндель&quot;</a><br>
            <a href="#3335-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D0%B5%22">3.3.3.5 Панель &quot;Перемещение&quot;</a><br>
            <a href="#3336-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%86%D0%B8%D1%8F%22">3.3.3.6 Панель &quot;Коррекция&quot;</a><br>
            <a href="#3337-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D0%BA%D0%B0%D1%80%D1%82%D0%B0-%D0%B2%D1%8B%D1%81%D0%BE%D1%82%22">3.3.3.7 Панель &quot;Карта высот&quot;</a><br>
            <a href="#3338-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B%22">3.3.3.8 Панель &quot;Пользовательские команды&quot;</a><br>
    <a href="#34-%D0%BE%D0%BA%D0%BD%D0%BE-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BA">3.4 Окно настроек</a><br>
    <a href="#35-%D0%BF%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B-%D0%BA-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5">3.5 Подготовка программы к работе</a><br>
    <a href="#36-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B5%D0%B9-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">3.6 Загрузка управляющей программы</a><br>
    <a href="#37-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BA%D0%B0%D1%80%D1%82%D1%8B-%D0%B2%D1%8B%D1%81%D0%BE%D1%82">3.7 Создание карты высот</a><br>
    <a href="#38-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B5%D0%B9-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">3.8 Выполнение управляющей программы</a><br>
<a href="#4-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%83">4 Сообщения оператору</a><br>
<a href="#5-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%B8%D0%B9">5 Разработка расширений</a><br>
    <a href="#51-%D1%84%D0%B0%D0%B9%D0%BB-%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%B8%D1%8F">5.1 Файл конфигурации расширения</a><br>
    <a href="#52-%D1%84%D0%B0%D0%B9%D0%BB-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B0">5.2 Файл скрипта</a><br>
    <a href="#53-%D1%84%D0%B0%D0%B9%D0%BB-%D0%BF%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4%D0%B0">5.3 Файл перевода</a><br>
<a href="#%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B0-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8-%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%BB%D0%B5%D1%80%D0%B0">Приложение А. Настройки контроллера</a><br>
<a href="#%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B1-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0-g-%D0%BA%D0%BE%D0%B4-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4">Приложение Б. Таблица G-код команд</a></p>
<h1 id="1-%D0%BD%D0%B0%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">1 Назначение программы</h1>
<p>Программа &quot;Candle&quot; (далее - программа) предназначена для управления станками с числовым программным управлением (далее - ЧПУ), имеющими контроллер &quot;GRBL&quot; (далее - контроллер), с помощью ПЭВМ.</p>
<p>Программа позволяет работать с фрезерными 3-ех осевыми станками, лазерными плоттерами.</p>
<p>Основные функции программы:</p>
<ul>
<li>Загрузка, редактирование, сохранение управляющих программ (далее - УП).</li>
<li>Визуализация УП.</li>
<li>Снятие карты неровности поверхности, коррекция УП в соответствии с заданной картой.</li>
<li>Передача УП на ЧПУ.</li>
<li>Отображение состояния ЧПУ.</li>
<li>Ручное управление ЧПУ.</li>
</ul>
<h1 id="2-%D1%83%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%8F-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">2 Условия выполнения программы</h1>
<h2 id="21-%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA-%D0%B0%D0%BF%D0%BF%D0%B0%D1%80%D0%B0%D1%82%D0%BD%D0%BE%D0%BC%D1%83-%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D1%8E">2.1 Требования к аппаратному обеспечению</h2>
<p>Для корректной работы программы необходима ПЭВМ со следующими характеристиками:</p>
<ul>
<li>процессор, поддерживающий набор инструкций SSE2,</li>
<li>графический адаптер, поддерживающий спецификацию OpenGL версии 2.0 и выше,</li>
<li>дисплей с разрешением 1280х720,</li>
<li>свободный порт USB или RS-232 для подключения ПЭВМ к контроллеру ЧПУ,</li>
<li>свободное место на запоминающем устройстве не менее 20 Мб.</li>
</ul>
<h2 id="22-%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%BD%D0%BE%D0%BC%D1%83-%D0%BE%D0%B1%D0%B5%D1%81%D0%BF%D0%B5%D1%87%D0%B5%D0%BD%D0%B8%D1%8E">2.2 Требования к программному обеспечению</h2>
<p>Программа требует наличия на ПЭВМ операционной системы Windows 7 и выше, с установленным драйвером OpenGL, драйвером преобразователя USB-UART при подключении ЧПУ через порт USB.</p>
<h1 id="3-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">3 Выполнение программы</h1>
<h2 id="31-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">3.1 Установка программы</h2>
<p>Программа поставляется в виде архива &quot;candle_v.v.v_x86.zip&quot; для 32-разрядных процессоров и &quot;candle_v.v.v_x64.zip&quot; для 64-разрядных, где v.v.v - номер версии программы.</p>
<p>Для установки необходимо распаковать архив в рабочую папку, например: &quot;D:&quot;. В папке будет создан каталог программы &quot;Candle&quot; со всеми необходимыми для работы файлами.</p>
<p>После распаковки, для обеспечения дальнейшего быстрого запуска, нужно создать ярлык к исполняемому файлу &quot;D:\Candle\candle.exe&quot;.</p>
<h2 id="32-%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA">3.2 Запуск</h2>
<p>Запуск программы осуществляется по вызову файла &quot;candle.exe&quot; из папки установки или с помощью созданного ранее ярлыка.</p>
<h2 id="33-%D0%B3%D0%BB%D0%B0%D0%B2%D0%BD%D0%BE%D0%B5-%D0%BE%D0%BA%D0%BD%D0%BE">3.3 Главное окно</h2>
<p>При запуске программы на дисплее должно отобразиться главное окно программы, представленное на рисунке 1.</p>
<p><img src="images_ru/mainwindow.png#center" alt="Главное окно программы"></p>
<p class="center">Рисунок 1 - Главное окно программы</p>
<p>Главное окно состоит из главного меню, расположенного сверху, набора окон и инструментальных панелей:</p>
<ul>
<li>&quot;G-код программа&quot; - основное окно, отображает список команд текущей УП.</li>
<li>&quot;Визуализатор&quot; - графическое представление УП.</li>
<li>&quot;Камера&quot; - изображение с камеры.</li>
<li>&quot;Консоль&quot; - окно передачи команд в контроллер &quot;GRBL&quot; ЧПУ и отображения ответов.</li>
<li>&quot;Устройство&quot; - окно с набором панелей для управления ЧПУ.</li>
<li>&quot;Модификация&quot; - окно с набором панелей для коррекции УП.</li>
<li>&quot;Пользователь&quot; - окно с набором пользовательских панелей.</li>
</ul>
<p>Каждое окно имеет область заголовка и область содержимого. В заголовке расположено название окна, кнопки &quot;Отделить&quot;, &quot;Закрыть&quot;, в области содержимого - элементы ввода и отображения информации, а также инструментальные панели.</p>
<p>Все окна, за исключением окна &quot;G-код программа&quot;, могут быть перемещены перетаскиванием с нажатой левой кнопки мыши (далее - ЛКМ) на заголовке окна. В процессе перемещения конфигурация главного окна программы будет динамически изменяться, указывая будущее расположение перемещаемого окна.</p>
<p>Окна могут быть отделены от главного окна нажатием на кнопку &quot;Отделить&quot; заголовка, закрыты - &quot;Закрыть&quot;. Отделенные окна могут быть возвращены в главное окно перетаскиванием за заголовок, закрытые - выбором соответствующего пункта в главном меню &quot;Вид - Окна&quot;.</p>
<p>Размеры окон изменяются нажатием ЛКМ на границу окна и ее перетаскиванием в нужную сторону.</p>
<h3 id="331-%D0%B3%D0%BB%D0%B0%D0%B2%D0%BD%D0%BE%D0%B5-%D0%BC%D0%B5%D0%BD%D1%8E">3.3.1 Главное меню</h3>
<p>Главное меню программы предоставляет доступ к основным функциям программы. Меню разделено на группы и пункты, описание которых приведено в таблице 1.</p>
<p>Таблица 1 - Главное меню программы</p>
<table>
<thead>
<tr>
<th>Группа</th>
<th>Пункт</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>Файл</td>
<td>Новый</td>
<td>Создание новой УП</td>
</tr>
<tr>
<td></td>
<td>Открыть</td>
<td>Загрузка файла УП</td>
</tr>
<tr>
<td></td>
<td>Недавние файлы</td>
<td>Загрузка одного из последних файлов УП</td>
</tr>
<tr>
<td></td>
<td>Сохранить</td>
<td>Запись изменений УП в файл</td>
</tr>
<tr>
<td></td>
<td>Сохранить как</td>
<td>Запись УП в указанный файл</td>
</tr>
<tr>
<td></td>
<td>Выход</td>
<td>Выход из программы</td>
</tr>
<tr>
<td>Вид</td>
<td>Окна</td>
<td>Выбор отображаемых окон</td>
</tr>
<tr>
<td></td>
<td>Панели</td>
<td>Выбор отображаемых панелей</td>
</tr>
<tr>
<td></td>
<td>Зафиксировать окна</td>
<td>Запрет/разрешение перемещения окон</td>
</tr>
<tr>
<td></td>
<td>Зафиксировать панели</td>
<td>Запрет/разрешение перемещения панелей</td>
</tr>
<tr>
<td>Сервис</td>
<td>Настройки</td>
<td>Вызов окна настроек программы</td>
</tr>
<tr>
<td>Справка</td>
<td>Документация</td>
<td>Запуск справочной системы программы</td>
</tr>
<tr>
<td></td>
<td>О программе</td>
<td>Вызов окна с информацией о программе</td>
</tr>
</tbody>
</table>
<h3 id="332-%D0%BE%D0%BA%D0%BD%D0%B0">3.3.2 Окна</h3>
<h4 id="3321-%D0%BE%D0%BA%D0%BD%D0%BE-%22g-%D0%BA%D0%BE%D0%B4-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%22">3.3.2.1 Окно &quot;G-код программа&quot;</h4>
<p>Текущая УП отображается в окне &quot;G-код программа&quot;, представленном на рисунке 2.</p>
<p><img src="images_ru/g-codeprogram.png#center" alt="Окно &quot;G-код программа&quot;"></p>
<p class="center">Рисунок 2 - Окно "G-код программа"</p>
<p>Каждая строка УП соответствует строке в таблице, содержащей столбцы:</p>
<ul>
<li>&quot;№&quot; - номер строки УП.</li>
<li>&quot;Команда&quot; - команда УП.</li>
<li>&quot;Состояние&quot; - текущее состояние команды (&quot;В очереди&quot;, &quot;Отправлена&quot;, &quot;Обработана&quot;, &quot;Пропущена&quot;).</li>
<li>&quot;Ответ&quot; - ответ контроллера на отправленную команду.</li>
</ul>
<p>УП может быть отредактирована, поддерживаются следующие функции:</p>
<ul>
<li>Изменение команды в выбранной строке.</li>
<li>Добавления новых строк УП.</li>
<li>Удаление строк УП.</li>
</ul>
<p>Вход в режим редактирования команды УП выполняется двойным нажатием ЛКМ в столбце &quot;Команда&quot; выбранной строки или нажатием клавиши &lt;F2&gt; в предварительно выбранной ячейке. Подтверждение ввода измененной команды осуществляется нажатием клавиши &lt;Enter&gt; или &lt;Tab&gt;, отмена - нажатием клавиши &lt;Esc&gt;.</p>
<p>Для добавления строки - необходимо выбрать в таблице строку, перед которой вставляется новая строка, и активировать пункт &quot;Вставить строку&quot; контекстного меню, вызываемого нажатием правой кнопки мыши (далее - ПКМ) в области таблицы, или нажать на клавишу &lt;Ins&gt; клавиатуры.</p>
<p>Удаление выделенных строк таблицы производится вызовом пункта &quot;Удалить строки&quot; контекстного меню таблицы или нажатием на клавишу &lt;Del&gt; клавиатуры.</p>
<p>Под таблицей расположены кнопки управления загрузкой и отправкой УП в контроллер ЧПУ:</p>
<ul>
<li>&quot;Открыть&quot; - вызывает диалог выбора файла УП, в случае подтверждения выбора - загружает УП.</li>
<li>&quot;Сброс&quot; - снимает выделение в таблице, устанавливает первую строку УП текущей, сбрасывает состояние команд.</li>
<li>&quot;Отправить&quot; - запускает процесс передачи УП в контроллер ЧПУ.</li>
<li>&quot;Пауза&quot; - приостанавливает процесс передачи УП.</li>
<li>&quot;Прервать&quot; - останавливает передачу УП.</li>
</ul>
<p>Следует учитывать, что при активации команд &quot;Пауза&quot; и &quot;Остановить&quot; фактическая остановка ЧПУ выполняется только по опустошению входного буфера команд контроллера. Для немедленной остановки ЧПУ необходимо использовать команды панели &quot;Управление&quot;: &quot;Удержание&quot;, &quot;Сброс&quot;.</p>
<p>Слева от кнопок расположен флаг, отвечающий за автоматическую прокрутку таблицы в процессе отправки УП. При активной передаче УП в контроллер и ручной прокрутке таблицы флаг сбрасывается.</p>
<h4 id="3322-%D0%BE%D0%BA%D0%BD%D0%BE-%22%D0%B2%D0%B8%D0%B7%D1%83%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80%22">3.3.2.2 Окно &quot;Визуализатор&quot;</h4>
<p>Графическое представление УП отображается в окне &quot;Визуализатор&quot; (рисунок 3).</p>
<p><img src="images_ru/visualizer.png#center" alt="Окно &quot;Визуализатор&quot;"></p>
<p class="center">Рисунок 3 - Окно "Визуализатор"</p>
<p>В окне можно выделить пять функциональных областей:</p>
<ul>
<li>Центральная или основная область, в которой выводится траектория инструмента УП в виде трехмерной (3D) проекции.</li>
<li>Состояние контроллера ЧПУ в левом верхнем углу.</li>
<li>Кнопки управления видом в правом верхнем углу.</li>
<li>Информация о границах обработки УП в левом нижнем углу.</li>
<li>Вспомогательная информация, выводимая в правом нижнем углу.</li>
</ul>
<p>Траектория инструмента УП представлена набором отрезков линий:</p>
<ul>
<li>Сплошными черными отрезками выделены части траектории линейной и круговой интерполяции УП.</li>
<li>Пунктирными черными - ускоренные движения.</li>
<li>Красным цветом - вертикальные перемещения.</li>
</ul>
<p>При передаче УП в контроллер ЧПУ часть отрезков меняет цвет в зависимости от следующих условий: часть траектории, обработанная ЧПУ, выделяется серым цветом; часть траектории, отправленная в ЧПУ - фиолетовым.</p>
<p>На траекторию УП нанесены три маркера-круга:</p>
<ul>
<li>Красный маркер - начало траектории.</li>
<li>Зеленый маркер - конец траектории.</li>
<li>Фиолетовый - отрезок траектории, соответствующий выделенной команде в таблице окна &quot;G-код программа&quot;.</li>
</ul>
<p>В основной области, также, отображается начало координат в виде прямоугольника красного цвета в плоскости X-Y, и осей: X - красного цвета, Y - зеленого, Z - синего. Здесь же выводится условное отображение инструмента в виде каркасной модели из линий оранжевого цвета.</p>
<p>Навигация в основной области выполняется следующим образом:</p>
<ul>
<li>Поворот 3D проекции осуществляется нажатием ЛКМ в основной области и перемещением курсора мыши в заданном направлении или нажатием на одну из кнопок управления видом в правом верхнем углу окна (&quot;Вид сверху&quot;, &quot;Вид спереди&quot;, &quot;Вид слева&quot;, &quot;Изометрия&quot;).</li>
<li>Перемещении проекции в области осуществляется нажатием ЛКМ с удерживанием клавиши &lt;Shift&gt; клавиатуры и перемещением курсора мыши в заданном направлении.</li>
<li>Масштаб проекции изменяется с помощью колеса прокрутки мыши или нажатием на кнопку &quot;Вписать&quot; в правом верхнем углу.</li>
</ul>
<p>В левом верхнем углу окна расположена информация о текущем состоянии контроллера ЧПУ, а именно: строка состояния интерпретатора; текущие значения подачи и скорости вращения шпинделя; состояние компонентов ЧПУ (шпинделя, системы охлаждения).</p>
<p>Строка состояния имеет следующий вид:</p>
<p class="center">[GC:G1 G54 G17 G21 G90 G94 M3 M9 T0 F75 S8000]</p>
<p>В строке выводится текущий режим работы интерпретатора контроллера ЧПУ для 12 модальных групп, номер инструмента, скорость подачи и скорость вращения шпинделя. Группы и возможные режимы приведены в таблице 2.</p>
<p>Таблица 2 - Режимы работы интерпретатора контроллера ЧПУ</p>
<table>
<thead>
<tr>
<th>Модальная группа</th>
<th style="text-align:left">Режимы</th>
</tr>
</thead>
<tbody>
<tr>
<td>Режим движения</td>
<td style="text-align:left">G0, G1, G2, G3, G38.2, G38.3, G38.4, G38.5, G80</td>
</tr>
<tr>
<td>Система координат</td>
<td style="text-align:left">G54, G55, G56, G57, G58, G59</td>
</tr>
<tr>
<td>Рабочая плоскость</td>
<td style="text-align:left">G17, G18, G19</td>
</tr>
<tr>
<td>Режим задания дистанции перемещения</td>
<td style="text-align:left">G90, G91</td>
</tr>
<tr>
<td>Режим IJK задания круговой интерполяции</td>
<td style="text-align:left">G91.1</td>
</tr>
<tr>
<td>Режим подачи</td>
<td style="text-align:left">G93, G94</td>
</tr>
<tr>
<td>Единицы измерения</td>
<td style="text-align:left">G20, G21</td>
</tr>
<tr>
<td>Режим компенсации радиуса инструмента</td>
<td style="text-align:left">G40</td>
</tr>
<tr>
<td>Режим компенсации длины инструмента</td>
<td style="text-align:left">G43.1, G49</td>
</tr>
<tr>
<td>Режим управления ходом программы</td>
<td style="text-align:left">M0, M1, M2, M30</td>
</tr>
<tr>
<td>Состояние шпинделя</td>
<td style="text-align:left">M3, M4, M5</td>
</tr>
<tr>
<td>Состояние системы охлаждения</td>
<td style="text-align:left">M7, M8, M9</td>
</tr>
</tbody>
</table>
<p>Строка состояния компонентов ЧПУ имеет вид:</p>
<p class="center">СУ: SFM</p>
<p>Символ &quot;S&quot; отвечает за состояние шпинделя, выводится при вращении шпинделя в направлении часовой стрелки, заменяется на символ &quot;C&quot; при вращении шпинделя против часовой стрелки и не выводится при остановке шпинделя. Символ &quot;F&quot; отображается при включенной системе водяного охлаждения, &quot;M&quot; - системе воздушного охлаждения.</p>
<p>Границы обработки УП приведены в левом нижнем углу, здесь указаны минимальные и максимальные координаты для каждой из осей и габариты зоны обработки (без учета диаметра инструмента).</p>
<p>В правом нижнем углу выводится информация о текущем времени работы ЧПУ под управлением загруженной УП и ориентировочное полное время работы по УП.</p>
<p>Информация об очереди команд, отправляемых в контроллер ЧПУ представлена в строке ниже и включает в себя: общий размер команд, отправленных и обрабатываемых в данный момент контроллером ЧПУ; количество обрабатываемых команд; количество инжектированных команд (команд отправляемых помимо команд УП) в очереди.</p>
<p>В этой же области имеется вспомогательная информация об общем количестве вершин, составляющих 3D проекцию, и значение количества кадров в секунду построения проекции.</p>
<h4 id="3323-%D0%BE%D0%BA%D0%BD%D0%BE-%22%D0%BA%D0%B0%D0%BC%D0%B5%D1%80%D0%B0%22">3.3.2.3 Окно &quot;Камера&quot;</h4>
<p>Изображение с подключенной к ПЭВМ камеры выводится в окне &quot;Камера&quot; (рисунок 4).</p>
<p><img src="images_ru/camera.png#center" alt="Окно &quot;Камера&quot;"></p>
<p class="center">Рисунок 4 - Окно "Камера"</p>
<p>Перемещение вида в окне производится с нажатой ЛКМ смещением курсора мыши в заданном направлении, изменение масштаба - колесом прокрутки мыши.</p>
<p>В окне имеются прицельные элементы: вертикальная, горизонтальная линии и окружность с центром в точке пересечения линий. Перемещение точки пересечения линий производится нажатием ЛКМ с удерживанием клавиши &lt;Shift&gt; клавиатуры и перемещением курсора мыши в заданном направлении.</p>
<p>Параметры, такие как: разрешение изображения камеры, цвет и толщина линий прицельных элементов, доступны в окне настроек программы.</p>
<h4 id="3324-%D0%BE%D0%BA%D0%BD%D0%BE-%22%D0%BA%D0%BE%D0%BD%D1%81%D0%BE%D0%BB%D1%8C%22">3.3.2.4 Окно &quot;Консоль&quot;</h4>
<p>Для ручного управления ЧПУ, а также настройки и вывода информации о состоянии контроллера в программе предусмотрено окно &quot;Консоль&quot; (рисунок 5).</p>
<p><img src="images_ru/console.png#center" alt="Окно &quot;Консоль&quot;"></p>
<p class="center">Рисунок 5 - Окно "Консоль"</p>
<p>В нижней части окна имеется поле ввода команды и две кнопки: &quot;Отправить команду&quot; и &quot;Очистить консоль&quot;. В верхней части расположено многострочное поле вывода ответов от контроллера.</p>
<p>Для отправки команды в контроллер ЧПУ необходимо ввести ее в соответствующее поле и нажать клавишу &lt;Enter&gt; клавиатуры или кнопку &quot;Отправить команду&quot;. После обработки команды контроллером, команда и ответ будут выведены в поле выше в следующем формате:</p>
<p class="center">Команда < Ответ</p>
<p>Если в настройках программы включен флаг &quot;Отображать команды интерфейса пользователя&quot; в поле выводов ответов будут отображены все команды, отправляемые в контроллер по нажатию элементов управления инструментальных панелей. При включенном флаге &quot;Отображать команды G-code программы&quot; - все команды УП при передаче УП в контроллер.</p>
<p>Очистка поля вывода ответов производится нажатием на кнопку &quot;Очистить консоль&quot;.</p>
<h4 id="3325-%D0%BE%D0%BA%D0%BD%D0%B0-%22%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%BE%22-%22%D0%BC%D0%BE%D0%B4%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F%22-%22%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%22">3.3.2.5 Окна &quot;Устройство&quot;, &quot;Модификация&quot;, &quot;Пользователь&quot;</h4>
<p>Инструментальные панели с элементами управления и отображения информации о состоянии ЧПУ располагаются в окнах &quot;Устройство&quot;, &quot;Модификация&quot;, &quot;Пользователь&quot;.</p>
<p>Наименование окон характеризует функциональное назначение панелей, расположенных в них, но не ограничивает их состав - все панели могут свободно перемещаться как внутри соответствующего окна так и между окнами.</p>
<p>Перемещение осуществляется перетаскиванием панели за заголовок с нажатой ЛКМ. В процессе перетаскивания в окнах будет отображаться место будущего расположения панели в виде линии синего цвета.</p>
<p>Большинство инструментальных панелей имеют способность сворачиваться для экономии места на экране ПЭВМ, данные панели имеют знак &quot;-&quot; слева от наименования в заголовке в развернутом состоянии и &quot;≡&quot; - в свернутом. Сворачивание и разворачивание панели осуществляется щелчком ЛКМ на заголовке.</p>
<p>Текст заголовков панелей в нормальном состоянии имеет черный цвет, при активации важных функций панелей - красный.</p>
<p>При запуске программы часть панелей отображается в неактивном состоянии и активируется только при подключении к ПЭВМ ЧПУ.</p>
<h3 id="333-%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D0%B8">3.3.3 Инструментальные панели</h3>
<h4 id="3331-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D0%B5%22">3.3.3.1 Панель &quot;Состояние&quot;</h4>
<p>На панели &quot;Состояние&quot; (рисунок 6) выводятся текущие значения рабочих и машинных координат, а также режим работы контроллера ЧПУ. Координаты отображаются в полях вывода, расположенных по горизонтали в порядке: X, Y, Z.</p>
<p>Возможные режимы работы контроллера ЧПУ (поле &quot;Статус&quot;) следующие:</p>
<ul>
<li>&quot;Готов&quot; - режим готовности к приему команд.</li>
<li>&quot;Тревога&quot; - режим аварии.</li>
<li>&quot;Работа&quot; - режим выполнения УП.</li>
<li>&quot;Дом&quot; - поиск домашней позиции.</li>
<li>&quot;Удержание&quot; - приостановка движения, ожидание дальнейших команд продолжения/сброса.</li>
<li>&quot;Проверка&quot; - интерпретация входящих команд без фактического перемещения инструмента.</li>
<li>&quot;Дверь&quot; - режим срабатывания датчика двери.</li>
<li>&quot;Перемещение&quot; - режим выполнения специальных команд перемещения.</li>
<li>&quot;Сон&quot; - режим пониженного энергопотребления.</li>
</ul>
<p>В этом же поле выводятся состояния, не относящиеся к режиму работы контроллера:</p>
<ul>
<li>&quot;Нет соединения&quot; - при невозможности открыть последовательный порт подключения к ЧПУ.</li>
<li>&quot;Порт открыт&quot; - при открытии последовательного порта, но отсутствии соединения с контроллером ЧПУ.</li>
</ul>
<p>Фон поля &quot;Статус&quot; может изменять цвет в зависимости от состояния.</p>
<p><img src="images_ru/status.png#center" alt="Панель &quot;Состояние&quot;"></p>
<p class="center">Рисунок 6 - Панель "Состояние"</p>
<h4 id="3332-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%22">3.3.3.2 Панель &quot;Управление&quot;</h4>
<p>Панель &quot;Управление&quot; содержит набор кнопок, отвечающих за базовые функции контроллера &quot;GRBL&quot; (рисунок 7). Состав, посылаемые команды (коды команд), и описание приведены в таблице 3 в порядке их расположения на панели: слева направо, сверху вниз.</p>
<p><img src="images_ru/control.png#center" alt="Панель &quot;Управление&quot;"></p>
<p class="center">Рисунок 7 - Панель "Управление"</p>
<p>Таблица 3 - Кнопки панели &quot;Управления&quot;</p>
<table>
<thead>
<tr>
<th>Кнопка</th>
<th>Команда</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>Домой</td>
<td>$H</td>
<td>Поиск домашнего положения</td>
</tr>
<tr>
<td>Удерживание</td>
<td>! или ~</td>
<td>Остановка текущего перемещения (команда !) или возобновление движения (~)</td>
</tr>
<tr>
<td>Сброс</td>
<td>0x18</td>
<td>Программный сброс контроллера</td>
</tr>
<tr>
<td>Разблокировка</td>
<td>$X</td>
<td>Принудительная разблокировка режима аварии</td>
</tr>
<tr>
<td>Проверка</td>
<td>$C или 0x18</td>
<td>Включение (команда $C)/выключение (команда 0x18) режима проверки УП</td>
</tr>
<tr>
<td>Сон</td>
<td>$SLP</td>
<td>Перевод контроллера в режим пониженного энергопотребления</td>
</tr>
<tr>
<td>Дверь</td>
<td>0x84</td>
<td>Принудительный перевод контроллера в режим срабатывания датчика двери</td>
</tr>
<tr>
<td>Охлаждение</td>
<td>0xA0</td>
<td>Включение/выключение системы водяного охлаждения</td>
</tr>
</tbody>
</table>
<p>Следует отметить, что при выключении режима проверки УП, посылается команда программного сброса с последующим восстановлением состояния контроллера и смещений рабочих координат.</p>
<h4 id="3333-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0-%D0%BA%D0%BE%D0%BE%D1%80%D0%B4%D0%B8%D0%BD%D0%B0%D1%82%22">3.3.3.3 Панель &quot;Система координат&quot;</h4>
<p>На рисунке 8 изображена панель управления системой координат ЧПУ (далее - СК).</p>
<p><img src="images_ru/coordinatesystem.png#center" alt="Панель &quot;Система координат&quot;"></p>
<p class="center">Рисунок 8 - Панель "Система координат"</p>
<p>В верхней части панели выводятся смещения для активной СК для осей X, Y и Z, в нижней расположены кнопки выбора СК и обнуления текущих координат по оси X, Y, Z, всех осей одновременно для активной СК.</p>
<h4 id="3334-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D1%88%D0%BF%D0%B8%D0%BD%D0%B4%D0%B5%D0%BB%D1%8C%22">3.3.3.4 Панель &quot;Шпиндель&quot;</h4>
<p>На панели управления шпинделем (рисунок 9) расположены:</p>
<ul>
<li>Поле ввода для установки/вывода заданной скорости вращения шпинделя.</li>
<li>Горизонтальный ползунок установки/вывода скорости.</li>
<li>Кнопка включения/выключения шпинделя.</li>
</ul>
<p><img src="images_ru/spindle.png#center" alt="Панель &quot;Шпиндель&quot;"></p>
<p class="center">Рисунок 9 - Панель "Шпиндель"</p>
<p>Скорость вращения может задаваться как вводом числа в соответствующее поле, так и с помощью ползунка.</p>
<p>Текст в поле ввода может иметь два цвета: черный в случае, если текущая скорость вращения шпинделя соответствует заданной; красный - в противном случае.</p>
<p>Ползунок имеет ручку в виде круга серого цвета с контуром темного цвета, с помощью которой задается скорость вращения шпинделя и маркер в виде круга с более светлыми цветами, отображающий текущую скорость вращения.</p>
<p>Во время передачи УП в контроллер скорость вращения может быть изменена с помощью вышеуказанных элементов управления, при этом используются инжектированные G-код команды &quot;S&quot;, или с помощью функции переопределения скорости панели &quot;Коррекция&quot;. Включение/выключение шпинделя во время передачи возможно только при переводе контроллера в режим удерживания.</p>
<h4 id="3335-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D1%89%D0%B5%D0%BD%D0%B8%D0%B5%22">3.3.3.5 Панель &quot;Перемещение&quot;</h4>
<p>На панели &quot;Перемещение&quot; находятся элементы управления движением инструмента ЧПУ, а именно:</p>
<ul>
<li>Кнопки движения по осям X (стрелки влево, вправо), Y (стрелки вверх, вниз), Z (стрелки вверх, вниз, расположенные справа).</li>
<li>Кнопка &quot;Стоп&quot;, расположенная по центру кнопок движения по осям X и Y, отвечающая за принудительную остановку движения.</li>
<li>Выпадающий список &quot;Шаг&quot;, в котором можно задать шаг перемещения.</li>
<li>Выпадающий список &quot;Подача&quot;, отвечающий за выбор скорости перемещения.</li>
<li>Флаг &quot;Управление с клавиатуры&quot;, включающий управление перемещением с клавиатуры ПЭВМ.</li>
</ul>
<p><img src="images_ru/jogging.png#center" alt="Панель &quot;Перемещение&quot;"></p>
<p class="center">Рисунок 10 - Панель "Перемещение"</p>
<p>Списки &quot;Шаг&quot; и &quot;Подача&quot; имеют предварительные наборы шагов перемещения и скоростей соответственно, но позволяют ввести произвольные значения в поля списков. Введенные значения запоминаются при включении флага &quot;Управление с клавиатуры&quot; и могут выбираться из списков при последующем запуске программы.</p>
<p>Каждой кнопке панели, а также перелистыванию значений &quot;Шаг&quot; и &quot;Подача&quot; могут быть назначены быстрые клавиши, задаваемые в окне &quot;Настройки&quot; программы. Управление данными клавишами включается флагом &quot;Управление с клавиатуры&quot;.</p>
<h4 id="3336-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%86%D0%B8%D1%8F%22">3.3.3.6 Панель &quot;Коррекция&quot;</h4>
<p>На рисунке 11 представлен вид панели &quot;Коррекция&quot;. На панели расположены элементы переопределения скорости подачи, скорости холостого хода и скорости вращения шпинделя во время отправки УП в контроллер ЧПУ.</p>
<p>Элементы аналогичны таковым, расположенным на панели &quot;Шпиндель&quot;, за исключением замененной кнопки включения соответствующим флагом.</p>
<p><img src="images_ru/overriding.png#center" alt="Панель &quot;Коррекция&quot;"></p>
<p class="center">Рисунок 11 - Панель "Коррекция"</p>
<h4 id="3337-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D0%BA%D0%B0%D1%80%D1%82%D0%B0-%D0%B2%D1%8B%D1%81%D0%BE%D1%82%22">3.3.3.7 Панель &quot;Карта высот&quot;</h4>
<p>Панель &quot;Карта высот&quot; (рисунок 12) отвечает за создание, загрузку, снятие карты неровности поверхности и дальнейшую коррекцию УП для нивелирования кривизны детали, обрабатываемой с помощью ЧПУ. Данная функция полезна при фрезеровке печатных плат и гравировке.</p>
<p><img src="images_ru/heightmap.png#center" alt="Панель &quot;Карта высот&quot;"></p>
<p class="center">Рисунок 12 - Панель "Карта высот"</p>
<p>На панели имеются элементы создания, загрузки и включения режима работы с картой высот; задания границ прямоугольной зоны карты; установки количества точек зондирования по осям X и Y; установки рабочей высоты над поверхностью и глубины зондирования; установки скорости подачи; установки количества линий сетки разбиения УП по осям X и Y.</p>
<p>Коррекция УП по активной карте высот производится включением флага &quot;Использовать карту высот&quot;.</p>
<p>Более подробная информация об использовании карты высот приведена в п. <a href="#3-7-sozdanie-karty-vysot">3.7 &quot;Создание карты высот&quot;</a> данного руководства.</p>
<h4 id="3338-%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C-%22%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B8%D0%B5-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B%22">3.3.3.8 Панель &quot;Пользовательские команды&quot;</h4>
<p>Для расширения функционала программы в части управления ЧПУ предусмотрена панель &quot;Пользовательские команды&quot; (рисунок 13). На панели расположены кнопки, по нажатию на которые в контроллер ЧПУ отправляются заранее определенные команды.</p>
<p><img src="images_ru/usercommands.png#center" alt="Панель &quot;Пользовательские команды&quot;"></p>
<p class="center">Рисунок 13 - Панель "Пользовательские команды"</p>
<p>Задание команд осуществляется в окне &quot;Настройки&quot; программы. В группе &quot;Пользовательские команды&quot; окна имеется таблица команд. В таблице имеется возможность добавить, удалить или переместить команду, а также задать атрибуты:</p>
<ul>
<li>Текстовую подсказку, отображаемую над кнопкой панели при наведении на нее курсора мыши.</li>
<li>Значок кнопки.</li>
<li>Список G-код команд, отправляемых в контроллер ЧПУ при нажатии на соответствующую кнопку панели.</li>
</ul>
<p>Программа содержит ограниченный набор значков для кнопок, набор может расширяться пользовательскими значками, для чего необходимо поместить файлы необходимых значков в каталог &quot;candleplugins/usercommands/images&quot; папки установки программы.</p>
<p>Список команд, отправляемых в ЧПУ, может иметь одну G-код команду или набор команд, по одной в каждой строке поля в ячейке &quot;G-код&quot; таблицы.</p>
<p>В G-код командах можно использовать вставки программного кода на языке программирования JavaScript, оформляемые внутри фигурных скобок, например:</p>
<ul>
<li>Команда обнуления рабочей координаты X и запоминания смещения в переменной &quot;storedG92x&quot;</li>
</ul>
<pre class="hljs"><code><div>G92X0
{<span class="hljs-keyword">var</span> storedG92x = vars.G92x}
</div></code></pre>
<ul>
<li>Восстановление смещения координаты X после сброса контроллера ЧПУ</li>
</ul>
<pre class="hljs"><code><div>G92X{vars.Mx - storedG92x - vars.x}
</div></code></pre>
<ul>
<li>Запуск программы &quot;Блокнот&quot;</li>
</ul>
<pre class="hljs"><code><div>{script.importExtension(<span class="hljs-string">"qt.core"</span>)}
{<span class="hljs-keyword">var</span> p = <span class="hljs-keyword">new</span> QProcess()}
{p.start(<span class="hljs-string">"notepad"</span>, [])}
</div></code></pre>
<p>Подробнее об использовании языка программирования JavaScript в программе читайте в п. <a href="#5-razrabotka-rasshireniy">5 &quot;Разработка расширений&quot;</a> данного руководства</p>
<h2 id="34-%D0%BE%D0%BA%D0%BD%D0%BE-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BA">3.4 Окно настроек</h2>
<p>Настройки программы доступны в окне настроек (рисунок 14), вызываемое по активации пункта &quot;Настройки&quot; меню &quot;Сервис&quot; программы.</p>
<p><img src="images_ru/settings.png#center" alt="Окно настроек"></p>
<p class="center">Рисунок 14 - Окно настроек</p>
<p>Окно содержит три области: область слева - список групп настроек; область справа - элементы управления настройками выбранной группы; область снизу - кнопка установки настроек в значения по-умолчанию, кнопки подтверждения и отмены изменений настроек.</p>
<p>Ниже приведена информация о доступных настройках программы: группа, параметр, описание, допустимые значения, значение по-умолчанию.</p>
<p>Таблица 4 - Настройки программы</p>
<table>
<thead>
<tr>
<th>Группа</th>
<th>Параметр</th>
<th>Описание</th>
<th>Допустимые значения</th>
<th>Значение по-умолчанию</th>
</tr>
</thead>
<tbody>
<tr>
<td>Соединение</td>
<td>Порт</td>
<td>Последовательный порт соединения с контроллером ЧПУ</td>
<td>Путь к устройству</td>
<td>Пусто</td>
</tr>
<tr>
<td></td>
<td>Скорость</td>
<td>Скорость обмена по последовательному порту</td>
<td>9600, 14400, 19200, 38400, 57600, 115200, произвольное число</td>
<td>115200</td>
</tr>
<tr>
<td></td>
<td>Период опроса</td>
<td>Время между запросами состояния контроллера</td>
<td>от 10 до 9999 мс</td>
<td>100</td>
</tr>
<tr>
<td>Информация о станке</td>
<td>Скорость шпинделя мин.</td>
<td>Минимальная скорость вращения шпинделя (используется панелью &quot;Шпиндель&quot;)</td>
<td>от 0 до 99999 об/мин</td>
<td>0</td>
</tr>
<tr>
<td></td>
<td>Скорость шпинделя макс.</td>
<td>Максимальная скорость вращения шпинделя</td>
<td>от 0 до 99999 об/мин</td>
<td>10000</td>
</tr>
<tr>
<td></td>
<td>Мощность лазера мин.</td>
<td>Минимальная мощность лазера (используется при полутоновом окрашивании растровой визуализации УП)</td>
<td>от 0 до 99999</td>
<td>0</td>
</tr>
<tr>
<td></td>
<td>Мощность лазера макс.</td>
<td>Максимальная мощность лазера</td>
<td>от 0 до 99999</td>
<td>100</td>
</tr>
<tr>
<td>Парсер</td>
<td>Размер сегментов, аппроксимирующих дуги - по длине</td>
<td>Длина отрезков, разбивающих дуги УП, при отображении в окне &quot;Визуализатор&quot; и работе карты высот</td>
<td>от 0.1 до 99 мм</td>
<td>0.1 (выключено)</td>
</tr>
<tr>
<td></td>
<td>Размер сегментов, аппроксимирующих дуги - по углу</td>
<td>Угол разбития дуг УП, при отображении в окне &quot;Визуализатор&quot; и работе карты высот</td>
<td>от 0 до 180 градусов</td>
<td>5 градусов (включено)</td>
</tr>
<tr>
<td>Отправка файла</td>
<td>Команды начала программы</td>
<td>G-код команды, отправляемые в контроллер ЧПУ перед передачей УП</td>
<td>Набор G-код команд (допустимо использование JavaScript)</td>
<td>Пусто</td>
</tr>
<tr>
<td></td>
<td>Команды конца программы</td>
<td>G-код команды, отправляемые в контроллер ЧПУ после передачи УП</td>
<td>Набор G-код команд (допустимо использование JavaScript)</td>
<td>Пусто</td>
</tr>
<tr>
<td></td>
<td>Команды смены инструмента</td>
<td>G-код команды, отправляемые в контроллер ЧПУ при обработке команд смены инструмента</td>
<td>Набор G-код команд (допустимо использование JavaScript)</td>
<td>Пусто</td>
</tr>
<tr>
<td></td>
<td>Игнорировать ошибки при отправке файла</td>
<td>Флаг, управляющий остановкой передачи УП при возникновении ошибок обработки команд контроллером</td>
<td>Включено, выключено</td>
<td>Выключено</td>
</tr>
<tr>
<td></td>
<td>Автоматически настраивать парсер перед отправкой с выбранной строки</td>
<td>Включение отправки команд настройки интерпретатора перед отправкой УП с выбранной строки</td>
<td>Включено, выключено</td>
<td>Включено</td>
</tr>
<tr>
<td></td>
<td>Приостанавливать передачу файла по командам смены инструмента</td>
<td>Управление приостановкой передачи УП при обработке команд смены инструмента</td>
<td>Включено, выключено</td>
<td>Включено</td>
</tr>
<tr>
<td>Визуализатор</td>
<td>Толщина линий</td>
<td>Толщина линий 3D проекции УП</td>
<td>от 1 до 9</td>
<td>1.5</td>
</tr>
<tr>
<td></td>
<td>Сглаживание</td>
<td>Управление сглаживанием линий 3D проекции УП</td>
<td>Включено, выключено</td>
<td>Включено</td>
</tr>
<tr>
<td></td>
<td>MSAA</td>
<td>Сглаживание линий 3D проекции УП методом MSAA</td>
<td>Включено, выключено</td>
<td>Включено</td>
</tr>
<tr>
<td></td>
<td>Частота кадров</td>
<td>Частота кадров построения 3D проекции УП</td>
<td>30, 60, 120, произвольное число</td>
<td>60</td>
</tr>
<tr>
<td></td>
<td>V-sync</td>
<td>Управление вертикальной синхронизацией</td>
<td>Включено, выключено</td>
<td>Выключено</td>
</tr>
<tr>
<td></td>
<td>Буфер глубины</td>
<td>Управление перекрытием линий в зависимости от удаленности при построении 3D проекции УП</td>
<td>Включено, выключено</td>
<td>Выключено</td>
</tr>
<tr>
<td></td>
<td>Режим отрисовки</td>
<td>Метод построения проекции УП, &quot;Векторный&quot; - в виде отрезков линий, &quot;Растр&quot; - в виде набора точек</td>
<td>Векторный, растр</td>
<td>Векторный</td>
</tr>
<tr>
<td></td>
<td>Упростить геометрию</td>
<td>Ограничение минимального размера сегмента УП при отрисовке проекции УП</td>
<td>Включено, выключено</td>
<td>Включено</td>
</tr>
<tr>
<td></td>
<td>Упростить геометрию - Точность</td>
<td>Минимальный размер сегмента УП (при нуле преобразуются только сегменты, лежащие на одной линии)</td>
<td>от 0 до 99 мм</td>
<td>0</td>
</tr>
<tr>
<td></td>
<td>Полутоновое окрашивание</td>
<td>Управляет функцией окрашивания точек при растровом построении проекции</td>
<td>Включено, выключено</td>
<td>Выключено</td>
</tr>
<tr>
<td></td>
<td>Полутоновое окрашивание - По 'S'-коду</td>
<td>Управляет функцией окрашивания точек по &quot;S&quot;-коду УП</td>
<td>Включено, выключено</td>
<td>Включено</td>
</tr>
<tr>
<td></td>
<td>Полутоновое окрашивание - По 'Z'-коду</td>
<td>Управляет функцией окрашивания точек по &quot;Z&quot;-коду УП</td>
<td>Включено, выключено</td>
<td>Выключено</td>
</tr>
<tr>
<td>Цвета</td>
<td>Визуализатор - Фон</td>
<td>Задает цвет фона в окне &quot;Визуализатор&quot;</td>
<td>Произвольный цвет</td>
<td>Белый</td>
</tr>
<tr>
<td></td>
<td>Визуализатор - Текст</td>
<td>Задает цвет текста в окне &quot;Визуализатор&quot;</td>
<td>Произвольный цвет</td>
<td>Черный</td>
</tr>
<tr>
<td></td>
<td>Визуализатор - Фреза</td>
<td>Задает цвет модели инструмента в окне &quot;Визуализатор&quot;</td>
<td>Произвольный цвет</td>
<td>Оранжевый</td>
</tr>
<tr>
<td></td>
<td>Траектория - Основной</td>
<td>Задает цвет рабочих ходов траектории в проекции УП</td>
<td>Произвольный цвет</td>
<td>Черный</td>
</tr>
<tr>
<td></td>
<td>Траектория - Выполненная</td>
<td>Задает цвет частей траектории, обработанных ЧПУ при передаче УП в контроллер</td>
<td>Произвольный цвет</td>
<td>Серый</td>
</tr>
<tr>
<td></td>
<td>Траектория - Подсветка</td>
<td>Задает цвет частей траектории, отправленных в ЧПУ, цвет маркера выбранной строки УП</td>
<td>Произвольный цвет</td>
<td>Фиолетовый</td>
</tr>
<tr>
<td></td>
<td>Траектория - Z-перемещения</td>
<td>Задает цвет вертикальных перемещений траектории</td>
<td>Произвольный цвет</td>
<td>Красный</td>
</tr>
<tr>
<td></td>
<td>Траектория - Начало</td>
<td>Задает цвет маркера начала УП</td>
<td>Произвольный цвет</td>
<td>Красный</td>
</tr>
<tr>
<td></td>
<td>Траектория - Конец</td>
<td>Задает цвет маркера конца УП</td>
<td>Произвольный цвет</td>
<td>Зеленый</td>
</tr>
<tr>
<td>Модель фрезы</td>
<td>Тип</td>
<td>Вид модели инструмента в окне &quot;Визуализатор&quot;</td>
<td>Плоская, коническая</td>
<td>Коническая</td>
</tr>
<tr>
<td></td>
<td>Угол</td>
<td>Угол конуса конической модели инструмента</td>
<td>от 0 до 180 градусов</td>
<td>15</td>
</tr>
<tr>
<td></td>
<td>Диаметр</td>
<td>Диаметр модели инструмента</td>
<td>от 0 до 99 мм</td>
<td>3</td>
</tr>
<tr>
<td></td>
<td>Длина</td>
<td>Длина модели инструмента</td>
<td>от 0 до 999 мм</td>
<td>30</td>
</tr>
<tr>
<td>Быстрые клавиши</td>
<td>-</td>
<td>Комбинации клавиш для быстрого вызова функций программы</td>
<td>Произвольные комбинации клавиш</td>
<td>Пусто</td>
</tr>
<tr>
<td>Консоль</td>
<td>Отображать команды G-code программы</td>
<td>Управляет отображением G-код команд УП в окне &quot;Консоль&quot; во время передачи УП в контроллер</td>
<td>Включено, выключено</td>
<td>Выключено</td>
</tr>
<tr>
<td></td>
<td>Отображать команды интерфейса пользователя</td>
<td>Управляет отображением G-код команд, отправляемых с помощью элементов инструментальных панелей</td>
<td>Включено, выключено</td>
<td>Включено</td>
</tr>
<tr>
<td></td>
<td>Автозавершение команды</td>
<td>Автоматическое завершение команды при вводе в поле окна &quot;Консоль&quot; на основе введенных прежде</td>
<td>Включено, выключено</td>
<td>Включено</td>
</tr>
<tr>
<td>Пользовательский интерфейс</td>
<td>Размер шрифта</td>
<td>Размер шрифта пользовательского интерфейса программы</td>
<td>8, 9, 10, 11, 12 пт или произвольное число</td>
<td>9</td>
</tr>
<tr>
<td></td>
<td>Язык интерфейса</td>
<td>Язык надписей пользовательского интерфейса программы</td>
<td>American English, русский (список может пополняться)</td>
<td>American English</td>
</tr>
<tr>
<td>Камера</td>
<td>Наименование</td>
<td>Наименование камеры, изображение которой выводится в окне &quot;Камера&quot;</td>
<td>Список доступных камер, произвольное наименование</td>
<td>Пусто</td>
</tr>
<tr>
<td></td>
<td>Разрешение</td>
<td>Разрешение изображения, выводимого с камеры</td>
<td>Список поддерживаемых разрешений, произвольное разрешение</td>
<td>1280x720</td>
</tr>
<tr>
<td></td>
<td>Позиция</td>
<td>Смещение изображения камеры в окне &quot;Камера&quot; по горизонтали и вертикали</td>
<td>Произвольное смещение в точках</td>
<td>0, 0</td>
</tr>
<tr>
<td></td>
<td>Масштаб</td>
<td>Коэффициент масштабирования изображения камеры</td>
<td>Произвольное число</td>
<td>1</td>
</tr>
<tr>
<td></td>
<td>Позиция перекрестья</td>
<td>Относительное смещение прицельных элементов по горизонтали и вертикали</td>
<td>Произвольное смещение в относительных единицах от 0 до 1</td>
<td>0, 0</td>
</tr>
<tr>
<td></td>
<td>Размер перекрестья</td>
<td>Диаметр прицельной окружности</td>
<td>от 1 до 100</td>
<td>20</td>
</tr>
<tr>
<td></td>
<td>Цвет перекрестья</td>
<td>Цвет прицельных элементов</td>
<td>Произвольный цвет</td>
<td>Красный</td>
</tr>
<tr>
<td></td>
<td>Толщина линии</td>
<td>Толщина линий прицельных элементов</td>
<td>от 0 до 100</td>
<td>1</td>
</tr>
<tr>
<td>Пользовательские команды</td>
<td>-</td>
<td>Таблица команд панели &quot;Пользовательские команды&quot;</td>
<td>Произвольный набор команд</td>
<td>Тестовые команды</td>
</tr>
</tbody>
</table>
<h2 id="35-%D0%BF%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B-%D0%BA-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B5">3.5 Подготовка программы к работе</h2>
<p>В разработке.</p>
<h2 id="36-%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0-%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B5%D0%B9-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">3.6 Загрузка управляющей программы</h2>
<p>В разработке.</p>
<h2 id="37-%D1%81%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BA%D0%B0%D1%80%D1%82%D1%8B-%D0%B2%D1%8B%D1%81%D0%BE%D1%82">3.7 Создание карты высот</h2>
<p>В разработке.</p>
<h2 id="38-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B5%D0%B9-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">3.8 Выполнение управляющей программы</h2>
<p>В разработке.</p>
<h1 id="4-%D1%81%D0%BE%D0%BE%D0%B1%D1%89%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%83">4 Сообщения оператору</h1>
<p>В разработке.</p>
<h1 id="5-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%B8%D0%B9">5 Разработка расширений</h1>
<p>Для добавления новых функций в программу, в т.ч. новых элементов пользовательского интерфейса, предусмотрен механизм расширений.</p>
<p>Каждое расширение должно быть оформлено в виде папки, содержащей набор файлов:</p>
<ul>
<li>Файл конфигурации &quot;config.ini&quot; - текстовый файл с описанием расширения.</li>
<li>Файл скрипта &quot;script.js&quot; - код расширения.</li>
<li>Вспомогательные файлы (файлы форм &quot;*.ui&quot;, настройки расширения, файлы переводов, изображения и т.д.)</li>
</ul>
<p>Папка расширения должна храниться в каталоге &quot;candleplugins&quot; папки установки программы.</p>
<p>В программе предустановлены три расширения: &quot;camera&quot;, &quot;coordinatessytem&quot; и &quot;usercommands&quot; отвечающие за функционал панелей &quot;Камера&quot;, &quot;Система координат&quot;, &quot;Пользовательские команды&quot; соответственно.</p>
<p>Набор расширений программы может со временем пополняться.</p>
<h1 id="51-%D1%84%D0%B0%D0%B9%D0%BB-%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8-%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%B8%D1%8F">5.1 Файл конфигурации расширения</h1>
<p>Файл конфигурации должен содержать два текстовых ключа в группе &quot;General&quot;:</p>
<ul>
<li>&quot;title&quot; - заголовок окна и/или панели расширения.</li>
<li>&quot;name&quot; - уникальное наименование расширения, записанное без пробелов.</li>
</ul>
<p>Пример файла конфигурации расширения &quot;Система координат&quot;:</p>
<pre class="hljs"><code><div>[General]
title=&quot;Coordinate system&quot;
name=&quot;CoordinateSystemPlugin&quot;
</div></code></pre>
<h1 id="52-%D1%84%D0%B0%D0%B9%D0%BB-%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B0">5.2 Файл скрипта</h1>
<p>Код расширения должен быть выполнен на языке программирования &quot;JavaScript&quot; и реализовывать функционал расширения.</p>
<p>Расширение может предоставлять пользовательский интерфейс панели для окон &quot;Устройство&quot;, &quot;Модификация&quot;, &quot;Пользователь&quot;, отдельного окна в главном окне программы, интерфейс для окна настроек, так и не иметь его.</p>
<p>При необходимости настройки расширения при запуске программы и/или создания элементов пользовательского интерфейса код расширения может содержать следующие функции:</p>
<p>Таблица 5 - Функции скрипта</p>
<table>
<thead>
<tr>
<th>Функция</th>
<th>Аргументы</th>
<th>Возвращаемое значение</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>init</td>
<td>-</td>
<td>-</td>
<td>Функция инициализации расширения</td>
</tr>
<tr>
<td>createPanelWidget</td>
<td>-</td>
<td>Объект типа &quot;QWidget&quot;</td>
<td>Функция создания пользовательского интерфейса панели</td>
</tr>
<tr>
<td>createWindowWidget</td>
<td>-</td>
<td>Объект типа &quot;QWidget&quot;</td>
<td>Функция создания пользовательского интерфейса для главного окна программы</td>
</tr>
<tr>
<td>createSettingsWidget</td>
<td>-</td>
<td>Объект типа &quot;QWidget&quot;</td>
<td>Функция создания пользовательского интерфейса для окна настроек программы</td>
</tr>
</tbody>
</table>
<p>Вызов данных функций производится главной программой при загрузке расширения в порядке их перечисления в таблице.</p>
<p>В коде скрипта доступны глобальные объекты связи с главной программой, их описание приведено в таблице 6.</p>
<p>Таблица 6 - Объекты скрипта</p>
<table>
<thead>
<tr>
<th>Объект</th>
<th>Свойство</th>
<th>Тип свойства</th>
<th>Аргументы</th>
<th>Возвращаемое значение</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>app</td>
<td>sendCommand</td>
<td>Функция</td>
<td>Команда, индекс команды</td>
<td>-</td>
<td>Отправка команды в контроллер ЧПУ, может иметь индекс - отрицательное число, меньшее -99</td>
</tr>
<tr>
<td></td>
<td>sendCommands</td>
<td>Функция</td>
<td>Команды, индекс команд</td>
<td>-</td>
<td>Отправка списка команд в виде строки с разделителем '\n' в контроллер ЧПУ</td>
</tr>
<tr>
<td></td>
<td>addAction</td>
<td>Функция</td>
<td>Действие</td>
<td>-</td>
<td>Добавление в программу действия - объекта типа &quot;QAction&quot;, для которого могут быть назначены быстрые клавиши</td>
</tr>
<tr>
<td></td>
<td>removeAction</td>
<td>Функция</td>
<td>Действие</td>
<td>-</td>
<td>Удаление из программы действия</td>
</tr>
<tr>
<td></td>
<td>buttonSize</td>
<td>Функция</td>
<td>-</td>
<td>Размер</td>
<td>Возвращает стандартный размер кнопок для панелей программы</td>
</tr>
<tr>
<td></td>
<td>responseReceived</td>
<td>Сигнал</td>
<td>Команда, индекс, ответ</td>
<td>-</td>
<td>Сигнал приема ответа от контроллера ЧПУ на ранее отправленную команду</td>
</tr>
<tr>
<td></td>
<td>statusReceived</td>
<td>Сигнал</td>
<td>Статус</td>
<td>-</td>
<td>Сигнал приема статуса контроллера, содержит строку ответа контроллера на команду &quot;?&quot;</td>
</tr>
<tr>
<td></td>
<td>senderStateChanged</td>
<td>Сигнал</td>
<td>Состояние</td>
<td>-</td>
<td>Сигнал смены состояния передачи УП в контроллер ЧПУ, описание состояний приведено в таблице 7</td>
</tr>
<tr>
<td></td>
<td>deviceStateChanged</td>
<td>Сигнал</td>
<td>Состояние</td>
<td>-</td>
<td>Сигнал смены состояния контроллера ЧПУ, описание состояний приведено в таблице 8</td>
</tr>
<tr>
<td></td>
<td>settingsAboutToLoad</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый перед загрузкой настроек программы</td>
</tr>
<tr>
<td></td>
<td>settingsLoaded</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый после загрузки настроек программы</td>
</tr>
<tr>
<td></td>
<td>settingsAboutToSave</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый перед записью настроек программы</td>
</tr>
<tr>
<td></td>
<td>settingsSaved</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый после записи настроек программы</td>
</tr>
<tr>
<td></td>
<td>settingsAboutToShow</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый перед вызовом окна настроек программы</td>
</tr>
<tr>
<td></td>
<td>settingsAccepted</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый при подтверждении изменений настроек программы</td>
</tr>
<tr>
<td></td>
<td>settingsRejected</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый при отмене изменений настроек программы</td>
</tr>
<tr>
<td></td>
<td>settingsSetByDefault</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый при установке настроек программы в значения по-умолчанию</td>
</tr>
<tr>
<td></td>
<td>pluginsLoaded</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый после загрузки всех расширений программы</td>
</tr>
<tr>
<td></td>
<td>settings</td>
<td>Объект</td>
<td>-</td>
<td>-</td>
<td>Объект настроек программы</td>
</tr>
<tr>
<td></td>
<td>path</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Абсолютный путь к папке установки программы</td>
</tr>
<tr>
<td>app.settings</td>
<td>port</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Соединение - Порт&quot; настроек программы</td>
</tr>
<tr>
<td></td>
<td>baud</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Соединение - Скорость&quot;</td>
</tr>
<tr>
<td></td>
<td>queryStateTime</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Соединение - Период опроса&quot;</td>
</tr>
<tr>
<td></td>
<td>spindleSpeedMin</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Информация о станке - Скорость шпинделя мин.&quot;</td>
</tr>
<tr>
<td></td>
<td>spindleSpeedMax</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Информация о станке - Скорость шпинделя макс.&quot;</td>
</tr>
<tr>
<td></td>
<td>laserPowerMin</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Информация о станке - Мощность лазера мин.&quot;</td>
</tr>
<tr>
<td></td>
<td>laserPowerMax</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Информация о станке - Мощность лазера макс.&quot;</td>
</tr>
<tr>
<td></td>
<td>arcLength</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Размер сегментов, аппроксимирующих дуги - по длине&quot;</td>
</tr>
<tr>
<td></td>
<td>arcDegree</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Размер сегментов, аппроксимирующих дуги - по углу&quot;</td>
</tr>
<tr>
<td></td>
<td>arcDegreeMode</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Включение/выключение режима &quot;Размер сегментов, аппроксимирующих дуги - по углу&quot;</td>
</tr>
<tr>
<td></td>
<td>startCommands</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Отправка файла - Команды начала программы&quot;</td>
</tr>
<tr>
<td></td>
<td>endCommands</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Отправка файла - Команды конца программы&quot;</td>
</tr>
<tr>
<td></td>
<td>toolChangeCommands</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Отправка файла - Команды смены инструмента&quot;</td>
</tr>
<tr>
<td></td>
<td>ignoreErrors</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Отправка файла - Игнорировать ошибки при отправке файла&quot;</td>
</tr>
<tr>
<td></td>
<td>autoLine</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Отправка файла - Автоматически настраивать парсер перед отправкой с выбранной строки&quot;</td>
</tr>
<tr>
<td></td>
<td>pauseToolChange</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Отправка файла - Приостанавливать передачу файла по командам смены инструмента&quot;</td>
</tr>
<tr>
<td></td>
<td>lineWidth</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - Толщина линий&quot;</td>
</tr>
<tr>
<td></td>
<td>antialiasing</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - Сглаживание&quot;</td>
</tr>
<tr>
<td></td>
<td>msaa</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - MSAA&quot;</td>
</tr>
<tr>
<td></td>
<td>fps</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - Частота кадров&quot;</td>
</tr>
<tr>
<td></td>
<td>vsync</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - V-sync&quot;</td>
</tr>
<tr>
<td></td>
<td>zBuffer</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - Буфер глубины&quot;</td>
</tr>
<tr>
<td></td>
<td>drawModeVectors</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - Режим отрисовки&quot; (0 - растр, 1 - векторный)</td>
</tr>
<tr>
<td></td>
<td>simplify</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - Упростить геометрию&quot;</td>
</tr>
<tr>
<td></td>
<td>simplifyPrecision</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - Упростить геометрию - Точность&quot;</td>
</tr>
<tr>
<td></td>
<td>grayscaleSegments</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - Полутоновое окрашивание&quot;</td>
</tr>
<tr>
<td></td>
<td>grayscaleSCode</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Визуализатор - Полутоновое окрашивание - По 'S'-коду&quot;</td>
</tr>
<tr>
<td></td>
<td>toolType</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Модель фрезы - Тип&quot; (0 - плоская, 1 - коническая)</td>
</tr>
<tr>
<td></td>
<td>toolAngle</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Модель фрезы - Угол&quot;</td>
</tr>
<tr>
<td></td>
<td>toolDiameter</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Модель фрезы - Диаметр&quot;</td>
</tr>
<tr>
<td></td>
<td>toolLength</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Модель фрезы - Длина&quot;</td>
</tr>
<tr>
<td></td>
<td>showProgramCommands</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Консоль - Отображать команды G-code программы&quot;</td>
</tr>
<tr>
<td></td>
<td>showUICommands</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Консоль - Отображать команды интерфейса пользователя&quot;</td>
</tr>
<tr>
<td></td>
<td>autoCompletion</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Консоль - Автозавершение команды&quot;</td>
</tr>
<tr>
<td></td>
<td>fontSize</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Пользовательский интерфейс - Размер шрифта&quot;</td>
</tr>
<tr>
<td></td>
<td>language</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Параметр &quot;Пользовательский интерфейс - Язык интерфейса&quot; (ISO 639-1)</td>
</tr>
<tr>
<td></td>
<td>units</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Единицы измерения ЧПУ (0 - метрические, 1 - дюймовые)</td>
</tr>
<tr>
<td></td>
<td>rapidSpeed</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Скорость ускоренных перемещений ЧПУ</td>
</tr>
<tr>
<td></td>
<td>acceleration</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Ускорение перемещений ЧПУ</td>
</tr>
<tr>
<td></td>
<td>machineBounds</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Границы перемещений ЧПУ</td>
</tr>
<tr>
<td></td>
<td>homingEnabled</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Флаг функции поиска домашнего положения ЧПУ</td>
</tr>
<tr>
<td></td>
<td>softLimitsEnabled</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Флаг программных границ ЧПУ</td>
</tr>
<tr>
<td>vars</td>
<td>Mx</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Текущая машинная координата X</td>
</tr>
<tr>
<td></td>
<td>My</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Текущая машинная координата Y</td>
</tr>
<tr>
<td></td>
<td>Mz</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Текущая машинная координата Z</td>
</tr>
<tr>
<td></td>
<td>Wx</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Текущая рабочая координата X</td>
</tr>
<tr>
<td></td>
<td>Wy</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Текущая рабочая координата Y</td>
</tr>
<tr>
<td></td>
<td>Wz</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Текущая рабочая координата Z</td>
</tr>
<tr>
<td></td>
<td>G54x</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение координаты X системы координат G54</td>
</tr>
<tr>
<td></td>
<td>G54y</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение координаты Y системы координат G54</td>
</tr>
<tr>
<td></td>
<td>G54z</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение координаты Z системы координат G54</td>
</tr>
<tr>
<td></td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td></td>
<td>G59x</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение координаты X системы координат G59</td>
</tr>
<tr>
<td></td>
<td>G59y</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение координаты Y системы координат G59</td>
</tr>
<tr>
<td></td>
<td>G59z</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение координаты Z системы координат G59</td>
</tr>
<tr>
<td></td>
<td>CS</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Текущая система координат - строка &quot;G54&quot; ... &quot;G59&quot;</td>
</tr>
<tr>
<td></td>
<td>x</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение координаты X текущей системы координат</td>
</tr>
<tr>
<td></td>
<td>y</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение координаты Y текущей системы координат</td>
</tr>
<tr>
<td></td>
<td>z</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение координаты Z текущей системы координат</td>
</tr>
<tr>
<td></td>
<td>G92x</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение рабочей координаты X</td>
</tr>
<tr>
<td></td>
<td>G92y</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение рабочей координаты Y</td>
</tr>
<tr>
<td></td>
<td>G92z</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение рабочей координаты Z</td>
</tr>
<tr>
<td></td>
<td>G28x</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Сохраненная координата X команды G28</td>
</tr>
<tr>
<td></td>
<td>G28y</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Сохраненная координата Y команды G28</td>
</tr>
<tr>
<td></td>
<td>G28z</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Сохраненная координата Z команды G28</td>
</tr>
<tr>
<td></td>
<td>G30x</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Сохраненная координата X команды G30</td>
</tr>
<tr>
<td></td>
<td>G30y</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Сохраненная координата Y команды G30</td>
</tr>
<tr>
<td></td>
<td>G30z</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Сохраненная координата Z команды G30</td>
</tr>
<tr>
<td></td>
<td>TLOx</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение инструмента по координате X</td>
</tr>
<tr>
<td></td>
<td>TLOy</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение инструмента по координате Y</td>
</tr>
<tr>
<td></td>
<td>TLOz</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Смещение инструмента по координате Z</td>
</tr>
<tr>
<td></td>
<td>PRBx</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Координата X касания при зондировании</td>
</tr>
<tr>
<td></td>
<td>PRBy</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Координата Y касания при зондировании</td>
</tr>
<tr>
<td></td>
<td>PRBz</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Координата Z касания при зондировании</td>
</tr>
<tr>
<td></td>
<td>tool</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Номер текущего инструмента</td>
</tr>
<tr>
<td>script</td>
<td>importExtension</td>
<td>Функция</td>
<td>Наименование расширения</td>
<td>-</td>
<td>Подключение расширения JavaScript скрипта, список доступных расширений приведен в таблице 9</td>
</tr>
<tr>
<td></td>
<td>path</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Абсолютный путь к текущему расширению</td>
</tr>
</tbody>
</table>
<p>Таблица 7 - Состояния передачи УП</p>
<table>
<thead>
<tr>
<th>Состояние</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>-1</td>
<td>Неизвестное состояние</td>
</tr>
<tr>
<td>0</td>
<td>Передача УП</td>
</tr>
<tr>
<td>1</td>
<td>Переход в состояние приостановки передачи</td>
</tr>
<tr>
<td>2</td>
<td>Приостановка передачи</td>
</tr>
<tr>
<td>3</td>
<td>Окончание передачи, все команды УП отправлены</td>
</tr>
<tr>
<td>4</td>
<td>Передача завершена, все команды УП обработаны контроллером ЧПУ</td>
</tr>
<tr>
<td>5</td>
<td>Ручная смена инструмента</td>
</tr>
</tbody>
</table>
<p>Таблица 8 - Состояния контроллера ЧПУ</p>
<table>
<thead>
<tr>
<th>Состояние</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>-1</td>
<td>Неизвестное состояние</td>
</tr>
<tr>
<td>1</td>
<td>Готовность к приему команд</td>
</tr>
<tr>
<td>2</td>
<td>Тревога</td>
</tr>
<tr>
<td>3</td>
<td>Работа</td>
</tr>
<tr>
<td>4</td>
<td>Поиск домашнего положения</td>
</tr>
<tr>
<td>5</td>
<td>Переход в режим &quot;Удерживание&quot; завершен</td>
</tr>
<tr>
<td>6</td>
<td>Переход в режим &quot;Удерживание&quot;</td>
</tr>
<tr>
<td>8</td>
<td>Режим проверки УП</td>
</tr>
<tr>
<td>9</td>
<td>Дверь закрыта, готовность к возобновлению работы</td>
</tr>
<tr>
<td>10</td>
<td>Дверь открыта, ЧПУ остановлен</td>
</tr>
<tr>
<td>11</td>
<td>Дверь открыта, производится приостановка или парковка</td>
</tr>
<tr>
<td>12</td>
<td>Дверь закрыта, производится возобновление работы или возврат из парковки</td>
</tr>
<tr>
<td>13</td>
<td>Состояние перемещения</td>
</tr>
<tr>
<td>14</td>
<td>Режим сна</td>
</tr>
</tbody>
</table>
<p>Таблица 9 - Расширения скрипта</p>
<table>
<thead>
<tr>
<th>Наименование расширения</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>qt.core</td>
<td>Набор базовых объектов Qt</td>
</tr>
<tr>
<td>qt.custom</td>
<td>Набор дополнительных элементов управления пользовательского интерфейса, описание в таблице 10</td>
</tr>
<tr>
<td>qt.gui</td>
<td>Набор объектов пользовательского интерфейса Qt</td>
</tr>
<tr>
<td>qt.multimedia</td>
<td>Набор мультимедийных объектов Qt</td>
</tr>
<tr>
<td>qt.network</td>
<td>Набор объектов Qt поддержки сети</td>
</tr>
<tr>
<td>qt.opengl</td>
<td>Набор объектов Qt поддержки спецификации OpenGL</td>
</tr>
<tr>
<td>qt.printsupport</td>
<td>Набор объектов Qt поддержки печати</td>
</tr>
<tr>
<td>qt.sql</td>
<td>Набор объектов Qt поддержки баз данных</td>
</tr>
<tr>
<td>qt.uitools</td>
<td>Набор объектов Qt для динамического создания пользовательского интерфейса</td>
</tr>
<tr>
<td>qt.xml</td>
<td>Набор объектов Qt поддержки языка разметки &quot;XML&quot;</td>
</tr>
<tr>
<td>qt.widgets</td>
<td>Набор элементов управления пользовательского интерфейса Qt</td>
</tr>
</tbody>
</table>
<p>Таблица 10 - Дополнительные элементы управления пользовательского интерфейса</p>
<table>
<thead>
<tr>
<th>Тип объекта</th>
<th>Базовый тип</th>
<th>Назначение</th>
<th>Свойство</th>
<th>Тип свойства</th>
<th>Аргументы</th>
<th>Возвращаемое значение</th>
<th>Описание</th>
</tr>
</thead>
<tbody>
<tr>
<td>ColorPicker</td>
<td>QWidget</td>
<td>Выбор цвета</td>
<td>colorInt</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>32-разрядный код цвета в формате AARRGGBB</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>colorSelected</td>
<td>Сигнал</td>
<td>Цвет</td>
<td>-</td>
<td>Сигнал, генерируемый при выборе цвета пользователем</td>
</tr>
<tr>
<td>Slider</td>
<td>QSlider</td>
<td>Ползунок с представлением текущего значения параметра</td>
<td>currentValue</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Текущее значение параметра</td>
</tr>
<tr>
<td>SliderBox</td>
<td>QWidget</td>
<td>Ползунок с полем ввода значения и флагом включения</td>
<td>value</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Уставка параметра</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>currentValue</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Текущее значение параметра</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>minimum</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Минимальное значение параметра</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>maximum</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Максимальное значение параметра</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>sliderPosition</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Позиция ползунка</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>ratio</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Отношение значения в поле ввода к положению ползунка</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>title</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Наименование параметра</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>suffix</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Единицы измерения параметра</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>isCheckable</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Отображение флага включения</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>isChecked</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Включение/выключение флага</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>valueUserChanged</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый при изменении значения параметра пользователем</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>valueChanged</td>
<td>Сигнал</td>
<td>-</td>
<td>-</td>
<td>Сигнал, генерируемый при изменении значения параметра</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>toggled</td>
<td>Сигнал</td>
<td>Состояние</td>
<td>-</td>
<td>Сигнал, генерируемый при смене состояния флага включения параметра</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>click</td>
<td>Функция</td>
<td>-</td>
<td>-</td>
<td>Программное переключение флага</td>
</tr>
<tr>
<td>StyledToolButton</td>
<td>QToolButton</td>
<td>Кнопка инструментальной панели</td>
<td>backgroundColor</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Цвет фона кнопки, тип QColor</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>foregroundColor</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Цвет надписи на кнопке</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>highlightColor</td>
<td>Значение</td>
<td>-</td>
<td>-</td>
<td>Цвет подсветки границ кнопки</td>
</tr>
</tbody>
</table>
<h1 id="53-%D1%84%D0%B0%D0%B9%D0%BB-%D0%BF%D0%B5%D1%80%D0%B5%D0%B2%D0%BE%D0%B4%D0%B0">5.3 Файл перевода</h1>
<p>Каждое расширение может иметь файл перевода надписей. Формат имени файла следующий:</p>
<p class="center">translation_xx.qm,</p>
где xx - двухбуквенный код языка перевода.
<p>Скомпилированные файлы перевода &quot;*.qm&quot; создаются из текстовых &quot;*.ts&quot; с помощью программы &quot;Qt Linguist&quot; или консольной команды &quot;lrelease&quot;, входящих в пакет установки фреймворка &quot;Qt&quot;.</p>
<p>Подробнее о создании файлов переводов читайте в документации по фреймворку &quot;Qt&quot;: <a href="https://doc.qt.io/qt-5/qtlinguist-index.html">Qt Linguist Manual</a>.</p>
<h1 id="%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B0-%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8-%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%BB%D0%B5%D1%80%D0%B0">Приложение А. Настройки контроллера</h1>
<p>Таблица 11 - Описание настроек контроллера GRBL версии 1.1</p>
<table>
<thead>
<tr>
<th>Код</th>
<th>Описание</th>
<th>Допустимые значения</th>
<th>Пример значения</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Длительность импульса &quot;Step&quot; управления шаговыми двигателями, микросекунды</td>
<td></td>
<td>10</td>
</tr>
<tr>
<td>1</td>
<td>Таймаут выключения шаговых двигателей, миллисекунды</td>
<td></td>
<td>25</td>
</tr>
<tr>
<td>2</td>
<td>Битовая маска инвертирования сигналов &quot;Step&quot;</td>
<td>Разряд 0 - ось X, 1 - Y, 2 - Z</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>Битовая маска инвертирования сигналов &quot;Dir&quot;</td>
<td>Разряд 0 - ось X, 1 - Y, 2 - Z</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>Флаг инвертирования сигнала &quot;Enable&quot;</td>
<td>0 - активный уровень низкий, 1 - высокий</td>
<td>0</td>
</tr>
<tr>
<td>5</td>
<td>Флаг инвертирования сигналов концевых выключателей</td>
<td>0 - активный уровень низкий, 1 - высокий</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>Флаг инвертирования сигнала зонда</td>
<td>0 - активный уровень низкий, 1 - высокий</td>
<td>0</td>
</tr>
<tr>
<td>10</td>
<td>Битовая маска вывода информации о состоянии контроллера</td>
<td>Разряд 0 - вывод рабочих координат, 1 - машинных, 2 - вывод информации о буфере</td>
<td>3</td>
</tr>
<tr>
<td>11</td>
<td>Значение параметра Junction deviation, миллиметры</td>
<td></td>
<td>0.01</td>
</tr>
<tr>
<td>12</td>
<td>Допустимое отклонение при аппроксимации дуг отрезками, миллиметры</td>
<td></td>
<td>0.002</td>
</tr>
<tr>
<td>13</td>
<td>Флаг вывода координат и смещений в дюймах</td>
<td>0 - миллиметры, 1 - дюймы</td>
<td>0</td>
</tr>
<tr>
<td>20</td>
<td>Флаг включения программных границ</td>
<td>0 - выключено, 1 - включено</td>
<td>0</td>
</tr>
<tr>
<td>21</td>
<td>Флаг включения аппаратных границ</td>
<td>0 - выключено, 1 - включено</td>
<td>0</td>
</tr>
<tr>
<td>22</td>
<td>Флаг включения функции поиска домашнего положения</td>
<td>0 - выключено, 1 - включено</td>
<td>0</td>
</tr>
<tr>
<td>23</td>
<td>Битовая маска инвертирования направления движения при поиске домашнего положения</td>
<td>Разряд 0 - ось X, 1 - Y, 2 - Z</td>
<td>0</td>
</tr>
<tr>
<td>24</td>
<td>Скорость поиска домашнего положения, миллиметры в секунду</td>
<td></td>
<td>25</td>
</tr>
<tr>
<td>25</td>
<td>Начальная скорость поиска домашнего положения, миллиметры в секунду</td>
<td></td>
<td>250</td>
</tr>
<tr>
<td>26</td>
<td>Время фильтра дребезга контактов концевых выключателей, миллисекунды</td>
<td></td>
<td>250</td>
</tr>
<tr>
<td>27</td>
<td>Расстояние отхода от концевых выключателей по завершению поиска домашнего положения, миллиметры</td>
<td></td>
<td>1</td>
</tr>
<tr>
<td>30</td>
<td>Максимальная скорость вращения шпинделя, обороты в секунду</td>
<td></td>
<td>10000</td>
</tr>
<tr>
<td>31</td>
<td>Минимальная скорость вращения шпинделя, обороты в секунду</td>
<td></td>
<td>0</td>
</tr>
<tr>
<td>32</td>
<td>Флаг включения режима &quot;Лазер&quot;, движение без остановки при обработке кода &quot;S&quot;</td>
<td>0 - выключено, 1 - включено</td>
<td>0</td>
</tr>
<tr>
<td>100</td>
<td>Количество шагов на один миллиметр по оси X</td>
<td></td>
<td>200</td>
</tr>
<tr>
<td>101</td>
<td>Количество шагов на один миллиметр по оси Y</td>
<td></td>
<td>200</td>
</tr>
<tr>
<td>102</td>
<td>Количество шагов на один миллиметр по оси Z</td>
<td></td>
<td>200</td>
</tr>
<tr>
<td>110</td>
<td>Максимально допустимая скорость подачи по оси X, миллиметры в секунду</td>
<td></td>
<td>2000</td>
</tr>
<tr>
<td>111</td>
<td>Максимально допустимая скорость подачи по оси Y, миллиметры в секунду</td>
<td></td>
<td>2000</td>
</tr>
<tr>
<td>112</td>
<td>Максимально допустимая скорость подачи по оси Z, миллиметры в секунду</td>
<td></td>
<td>2000</td>
</tr>
<tr>
<td>120</td>
<td>Ускорение по оси X, миллиметры в секунду за секунду</td>
<td></td>
<td>200</td>
</tr>
<tr>
<td>121</td>
<td>Ускорение по оси Y, миллиметры в секунду за секунду</td>
<td></td>
<td>200</td>
</tr>
<tr>
<td>122</td>
<td>Ускорение по оси Z, миллиметры в секунду за секунду</td>
<td></td>
<td>200</td>
</tr>
<tr>
<td>130</td>
<td>Максимально допустимое перемещение по оси X от домашнего положения (используется программными границами)</td>
<td></td>
<td>200</td>
</tr>
<tr>
<td>131</td>
<td>Максимально допустимое перемещение по оси Y от домашнего положения</td>
<td></td>
<td>200</td>
</tr>
<tr>
<td>132</td>
<td>Максимально допустимое перемещение по оси Z от домашнего положения</td>
<td></td>
<td>200</td>
</tr>
</tbody>
</table>
<h1 id="%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B1-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0-g-%D0%BA%D0%BE%D0%B4-%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4">Приложение Б. Таблица G-код команд</h1>
<p>Таблица 12 - Краткая информация по G-код командам</p>
<table>
<thead>
<tr>
<th>Команда</th>
<th>Описание</th>
<th>Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td>G0</td>
<td>Ускоренное перемещение</td>
<td>G0 X10 Y20 Z30</td>
</tr>
<tr>
<td>G1</td>
<td>Линейная интерполяция</td>
<td>G1 X0 Y0 Z0 F100</td>
</tr>
<tr>
<td>G2</td>
<td>Круговая интерполяция по часовой стрелке</td>
<td>G2 X10 Y0 R5 F100</td>
</tr>
<tr>
<td>G3</td>
<td>Круговая интерполяция против часовой стрелки</td>
<td>G3 X10 Y0 R5 F100</td>
</tr>
<tr>
<td>G4</td>
<td>Задержка выполнения УП, P - время задержки в секундах</td>
<td>G4 P0.5</td>
</tr>
<tr>
<td>G10</td>
<td>Задание смещений системы координат</td>
<td>G10 L2 X10, G10 L20 X0</td>
</tr>
<tr>
<td>G17</td>
<td>Выбор плоскости X-Y круговой интерполяции</td>
<td>G17</td>
</tr>
<tr>
<td>G18</td>
<td>Выбор плоскости Z-X круговой интерполяции</td>
<td>G18</td>
</tr>
<tr>
<td>G19</td>
<td>Выбор плоскости Y-Z круговой интерполяции</td>
<td>G19</td>
</tr>
<tr>
<td>G20</td>
<td>Включение дюймовой системы измерения</td>
<td>G20</td>
</tr>
<tr>
<td>G21</td>
<td>Включение метрической системы измерения</td>
<td>G21</td>
</tr>
<tr>
<td>G28</td>
<td>Возврат в исходную позицию</td>
<td>G28 G91 X0 Y0 Z0</td>
</tr>
<tr>
<td>G28.1</td>
<td>Задание текущей позиции как исходной</td>
<td>G28.1</td>
</tr>
<tr>
<td>G30</td>
<td>Возврат в позицию смены инструмента</td>
<td>G30 G91 Z0</td>
</tr>
<tr>
<td>G30.1</td>
<td>Задание текущей позиции как позиции смены инструмента</td>
<td>G30.1</td>
</tr>
<tr>
<td>G38.2</td>
<td>Зондирование в направлении заготовки, ошибка при отсутствии контакта при перемещении на заданную дистанцию</td>
<td>G38.2 G91 X10 F10</td>
</tr>
<tr>
<td>G38.3</td>
<td>Зондирование в направлении заготовки</td>
<td>G38.3 G91 X10 F10</td>
</tr>
<tr>
<td>G38.4</td>
<td>Зондирование в направлении от заготовки, ошибка при сохранении контакта при перемещении на заданную дистанцию</td>
<td>G38.4 G91 X-10 F10</td>
</tr>
<tr>
<td>G38.5</td>
<td>Зондирование в направлении от заготовки</td>
<td>G38.4 G91 X-10 F10</td>
</tr>
<tr>
<td>G40</td>
<td>Отмена компенсации радиуса инструмента</td>
<td>G40</td>
</tr>
<tr>
<td>G43.1</td>
<td>Компенсация длины инструмента</td>
<td>G43.1 Z0.5</td>
</tr>
<tr>
<td>G49</td>
<td>Отмена компенсации длины инструмента</td>
<td>G49</td>
</tr>
<tr>
<td>G53</td>
<td>Использовать систему координат станка (машинные координаты)</td>
<td>G53 G90 G0 X0 Y0</td>
</tr>
<tr>
<td>G54...G59</td>
<td>Выбор системы координат</td>
<td>G55</td>
</tr>
<tr>
<td>G61</td>
<td>Включение режима точного останова</td>
<td>G1 G61 X10 F100</td>
</tr>
<tr>
<td>G80</td>
<td>Отмена циклов</td>
<td>G80</td>
</tr>
<tr>
<td>G90</td>
<td>Использовать абсолютные координаты</td>
<td>G1 G90 X10 Y10 Z0</td>
</tr>
<tr>
<td>G91</td>
<td>Использовать относительные координаты</td>
<td>G1 G91 X10</td>
</tr>
<tr>
<td>G91.1</td>
<td>Использовать относительные координаты I, J, K задания круговой интерполяции</td>
<td>G91.1</td>
</tr>
<tr>
<td>G92</td>
<td>Задать смещения рабочих координат</td>
<td>G92 X0 Y0</td>
</tr>
<tr>
<td>G92.1</td>
<td>Сброс смещения рабочих координат</td>
<td>G92.1</td>
</tr>
<tr>
<td>G93</td>
<td>Включение задания подачи в обратных единицах времени (1/F минут)</td>
<td>G93</td>
</tr>
<tr>
<td>G94</td>
<td>Включение задания подачи в миллиметрах в минуту</td>
<td>G94</td>
</tr>
<tr>
<td>M0</td>
<td>Приостановка выполнения УП</td>
<td>M0</td>
</tr>
<tr>
<td>M1</td>
<td>Условная приостановка выполнения УП</td>
<td>M1</td>
</tr>
<tr>
<td>M2</td>
<td>Завершение УП</td>
<td>M2</td>
</tr>
<tr>
<td>M3</td>
<td>Включение вращения шпинделя в направлении часовой стрелки</td>
<td>M3</td>
</tr>
<tr>
<td>M4</td>
<td>Включение вращения шпинделя в направлении против часовой стрелки</td>
<td>M4</td>
</tr>
<tr>
<td>M5</td>
<td>Выключение шпинделя</td>
<td>M5</td>
</tr>
<tr>
<td>M7</td>
<td>Включение воздушного охлаждения</td>
<td>M7</td>
</tr>
<tr>
<td>M8</td>
<td>Включение водяного охлаждения</td>
<td>M8</td>
</tr>
<tr>
<td>M9</td>
<td>Выключение охлаждения</td>
<td>M9</td>
</tr>
<tr>
<td>M30</td>
<td>Завершение УП с перемоткой в начало</td>
<td>M30</td>
</tr>
</tbody>
</table>

</body>
</html>
